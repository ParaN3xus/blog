---
import { kSiteTitle, kUrlBase } from "$consts";
import { Icon } from "astro-icon/components";
import ThemeToggle from "./ThemeToggle.astro";

const classSmallNavItem = "btn btn-ghost w-16";

const navButtons = [
  {
    text: "归档",
    href: "archive",
  },
  {
    text: "标签",
    href: "tags",
  },
  {
    text: "友链",
    href: "friends",
  },
  {
    text: "关于",
    href: "about",
  },
].map((x) => {
  return {
    text: x.text,
    href: `${kUrlBase}/${x.href}/`,
  };
});
---

<header
  class="bg-base-100 sticky top-0 z-[1] bg-opacity-80 backdrop-blur shadow-lg"
>
  <div class="navbar mx-auto max-w-5xl lg:px-16">
    <div class="navbar-start lg:hidden">
      <div class="dropdown">
        <div tabindex="0" class="btn btn-ghost btn-circle">
          <Icon name="ri:menu-line" size="24" />
        </div>
        <ul
          tabindex="0"
          class="menu dropdown-content bg-base-100 rounded-box z-[1] mt-3 space-y-2 shadow-lg"
        >
          {
            navButtons.map((x) => {
              return (
                <li>
                  <a class={classSmallNavItem} href={x.href}>
                    {x.text}
                  </a>
                </li>
              );
            })
          }
        </ul>
      </div>
    </div>

    <div class="navbar-start hidden lg:flex">
      <a class="btn btn-ghost text-xl" href={`${kUrlBase}/`}>{kSiteTitle}</a>
    </div>

    <div class="navbar-center lg:hidden">
      <a class="btn btn-ghost text-xl" href={`${kUrlBase}/`}>{kSiteTitle}</a>
    </div>

    <div class="navbar-end space-x-2">
      <div class="hidden lg:flex lg:space-x-2">
        {
          navButtons.map((x) => {
            return (
              <a class={classSmallNavItem} href={x.href}>
                {x.text}
              </a>
            );
          })
        }
      </div>

      <ThemeToggle />
    </div>
  </div>
</header>
